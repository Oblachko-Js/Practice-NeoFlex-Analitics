# Требования к программному продукту

Требования к ПО делятся на несколько категорий, которые помогают четко определить функционал, ограничения и ожидания от продукта.

## 1. Функциональные требования
Описание того, **что** система должна делать:
- **Основные функции**: 
  - Регистрация пользователей
  - Обработка платежей
  - Генерация отчетов
- **Бизнес-правила**:
  - "Заказы свыше $100 получают скидку 5%"
- **Взаимодействие с внешними системами**:
  - Интеграция с API банка для платежей

## 2. Нефункциональные требования
Описание **как** система должна работать:
- **Производительность**:
  - "Система должна обрабатывать 1000 запросов в секунду"
- **Безопасность**:
  - "Данные пользователей должны шифроваться по стандарту AES-256"
- **Масштабируемость**:
  - "Возможность увеличения серверных мощностей без изменения кода"
- **Юзабилити**:
  - "Интерфейс должен быть интуитивным для новых пользователей"

## 3. Бизнес-требования
Высокоуровневые цели:
- "Увеличить конверсию продаж на 20% за год"
- "Сократить время обработки заказа до 2 минут"

## 4. Пользовательские требования (User Stories)
Формат: Как `<роль>`, я хочу `<функция>`, чтобы `<ценность>`:
- Как *покупатель*, я хочу *фильтровать товары по цене*, чтобы *быстрее находить подходящие варианты*

## 5. Требования к документации
- Руководство пользователя на 3 языках
- API-документация в формате OpenAPI

## 6. Ограничения
- "Разработка должна быть завершена к Q3 2025"
- "Бюджет проекта не превышает $500,000"
- "Поддержка только браузеров Chrome и Firefox"

### Пример авторизация пользователя
- **Тип**: Функциональное
- **Приоритет**: High
- **Описание**: Система должна проверять логин/пароль через Active Directory
- **Критерии приемки**:
  1. При неверном пароле выводится ошибка
  2. После 3 ошибок аккаунт блокируется на 1 час

# Требования к онлайн-калькулятору на микросервисной архитектуре

## Функциональные требования

1. **Базовые арифметические операции**  
   - Микросервис `CalculatorCore` должен поддерживать:  
     - Сложение, вычитание, умножение, деление  
     - Возведение в степень и извлечение корня  

2. **История вычислений**  
   - Микросервис `HistoryService` должен сохранять последние 100 операций для каждого пользователя  

3. **Поддержка сложных выражений**  
   - Возможность вычисления выражений со скобками, например: `(2 + 3) * (5 - 1)`  

4. **Конвертер валют**  
   - Микросервис `CurrencyConverter` должен обновлять курсы через API ЦБ и выполнять конвертацию  

5. **Персонализация**  
   - Возможность сохранять часто используемые формулы в профиле (микросервис `UserProfile`)  

## Нефункциональные требования  

6. **Производительность**  
   - Время отклика системы не должно превышать **300 мс** при нагрузке до 1000 RPS  

7. **Масштабируемость**  
   - Возможность горизонтального масштабирования микросервиса `CalculatorCore` при росте нагрузки  

8. **Безопасность**  
   - Все API-запросы должны аутентифицироваться через JWT-токены  
   - Защита от DDoS через rate-limiting (не более 10 запросов/сек с одного IP)  

9. **Отказоустойчивость**  
   - При падении `CurrencyConverter` калькулятор должен продолжать работу с уведомлением о временной недоступности курсов  

10. **Логирование и мониторинг**  
    - Централизованный сбор логов через ELK-стек  
    - Метрики latency/error-rate в Prometheus + Grafana  

11. **Кроссплатформенность**  
    - Веб-интерфейс должен корректно работать на устройствах с экранами от 320px (мобильные) до 4K  

12. **CI/CD**  
    - Автоматический деплой через GitLab CI/CD с blue-green deployment стратегией  

### Пример пользовательского сценария  
**Сценарий**: Расчет сложного выражения с конвертацией валют  
1. Пользователь вводит: `(100 USD + 50 EUR) * 1.5`  
2. Система:  
   - Вычисляет выражение в скобках (конвертируя валюты через `CurrencyConverter`)  
   - Умножает результат на 1.5  
   - Сохраняет операцию в `HistoryService`  
   - Возвращает результат в RUB (по умолчанию)  

# Источники требований и заинтересованные лица для онлайн-калькулятора

## Источники требований

1. **Бизнес-требования**
   - Цели компании (например, монетизация через премиум-функции)
   - Маркетинговые исследования

2. **Пользовательские потребности**
   - Обратная связь от текущих пользователей
   - Анализ поведения пользователей (аналитика)

3. **Нормативные документы**
   - GDPR/законы о защите данных (если хранятся персональные данные)
   - Финансовые регуляции (для калькулятора валют)

4. **Технические ограничения**
   - Возможности выбранной микросервисной архитектуры
   - Лимиты используемых API (например, курсы валют)

5. **Конкуренты**
   - Анализ функционала аналогичных калькуляторов
   - Уникальные фичи конкурентов

## Заинтересованные лица (Stakeholders)

| Роль | Интерес/влияние |
|------|-----------------|
| **Пользователи** | Простота использования, точность расчетов |
| **Продукт-менеджер** | Соответствие бизнес-целям, сроки реализации |
| **Разработчики** | Четкие ТЗ, стабильность архитектуры |
| **Тестировщики** | Проверяемые критерии качества |
| **Дизайнеры** | Удобный интерфейс, адаптивность |
| **Бизнес-аналитик** | Соответствие требованиям рынка |
| **Юристы** | Соответствие законам о данных |
| **Маркетинг** | Уникальные фичи для продвижения |
| **Администраторы** | Простота поддержки и мониторинга |
| **Инвесторы** | ROI, потенциальная монетизация |

### Особенности для микросервисного калькулятора:
- **DevOps-инженеры** заинтересованы в удобном деплое/масштабировании сервисов  
- **Владельцы API** (например, поставщики курсов валют) влияют на доступность данных

# Методы сбора требований к программному обеспечению

## Основные методы сбора требований

### 1. Интервью
**Описание:** Личные беседы с заинтересованными сторонами  
**Пример:**  
- Интервью с бухгалтерами для выяснения нужных функций в финансовом калькуляторе
- Опрос пользователей о проблемах в текущей версии калькулятора

### 2. Анкетирование
**Описание:** Массовый сбор данных через опросники  
**Пример:**  
- Google-форма с вопросами о желаемых математических функциях
- NPS-опрос для оценки удовлетворенности текущим калькулятором

### 3. Анализ документов
**Описание:** Изучение существующей документации  
**Пример:**  
- Анализ технического задания старой версии калькулятора
- Изучение API-документации сервиса курсов валют

### 4. Наблюдение (этнографические исследования)
**Описание:** Наблюдение за работой пользователей  
**Пример:**  
- Фиксация действий бухгалтера при работе с калькулятором
- Замер времени выполнения операций в текущем интерфейсе

### 5. Мозговой штурм
**Описание:** Групповая генерация идей  
**Пример:**  
- Совещание команды разработки по новым функциям калькулятора
- Воркшоп с дизайнерами по улучшению UX

### 6. Прототипирование
**Описание:** Создание макетов для демонстрации  
**Пример:**  
- Интерактивный прототип нового интерфейса в Figma
- Черновой вариант API для микросервиса вычислений

### 7. User Stories
**Описание:** Формулировка требований от лица пользователя  
**Пример:**  
"Как пользователь, я хочу видеть историю вычислений, чтобы возвращаться к предыдущим расчетам"

### 8. Анализ конкурентов
**Описание:** Изучение аналогичных продуктов  
**Пример:**  
- Сравнение функций 5 популярных онлайн-калькуляторов
- Тестирование скорости работы калькулятора Google

## Дополнительные методы

| Метод | Применение для калькулятора |
|-------|-----------------------------|
| **Фокус-группы** | Обсуждение нового дизайна с группой целевых пользователей |
| **Юзабилити-тестирование** | Наблюдение за тем, как новички используют калькулятор |
| **Доменный анализ** | Изучение математических стандартов для научных расчетов |

> Часто используют комбинацию методов - например, интервью + анкетирование + анализ конкурентов.

